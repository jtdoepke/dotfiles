- clean: ['~']

- link:
    ~/.gitconfig: gitconfig
    ~/.tmux.conf: tmux.conf

- pacapt:
  # Can just list packages that have a common name across package managers.
  - fish
  - git
  - wget
  - curl
  - bzip2

  # Or list packages together as a reminder that they are equivalent.
  - ubuntu: build-essential
    fedora:
    - make
    - automake
    - gcc
    - gcc-c++
    - kernel-devel

  - ubuntu:
    - sqlite3
    - libsqlite3-dev
    fedora:
    - sqlite
    - sqlite-devel

  - ubuntu:
    - llvm
    - libncurses5-dev
    - libncursesw5-dev
    - tk-dev

  - ubuntu: libssl-dev
    fedora: openssl-devel

  - ubuntu: zlib1g-dev
    fedora: zlib-devel

  - ubuntu: libbz2-dev
    fedora: bzip2-devel

  - ubuntu: libreadline-dev
    fedora: readline-devel

  - ubuntu: xz-utils
    fedora:
    - xz
    - xz-devel


- shell:
  # Create directories
  - [mkdir -p ~/src/github.com, Creating github.com dir]
  - [mkdir -p ~/src/gitlab.com, Creating gitlab.com dir]
  - [mkdir -p ~/src/bitbucket.org, Creating bitbucket.org dir]
  - [mkdir -p ~/tmp, Creating tmp dir]
  - [mkdir -p ~/.local/bin, Creating .local/bin]
  - [mkdir -p ~/.config, Creating .config]

  - command: chsh -s $(which fish)
    description: Setting fish as default shell
    stdin: true
    stdout: true

  # Install fish plugins
  - ["curl -L https://get.oh-my.fish > install_oh_my_fish", Getting Oh My Fish installer]
  - command: fish install_oh_my_fish --noninteractive || true
    description: Installing Oh My Fish
    stdout: true
  - ["curl -Lo ~/.config/fish/functions/fisher.fish --create-dirs https://git.io/fisher", Installing fisherman]
  - [fish -c 'fisher install done', "Installing fisher plugin: done"]
  - [fish -c 'fisher install edc/bass', "Installing fisher plugin: edc/bass"]
  - [fish -c 'fisher install fzf', "Installing fisher plugin: fzf"]
  - [fish -c 'fisher install omf/proxy', "Installing fisher plugin: omf/proxy"]
  - [fish -c 'fisher install omf/thefuck', "Installing fisher plugin: omf/thefuck"]
  - [fish -c 'fisher install pyenv', "Installing fisher plugin: pyenv"]
  - [fish -c 'fisher install z', "Installing fisher plugin: z"]
  - [fish -c 'fisher install laughedelic/pisces', "Installing fisher plugin: laughedelic/pisces"]

  # Install pyenv and Python
  - ["curl -L https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer | bash", Installing pyenv]
  - [pyenv install 2.7.14, Installing Python 2.7]
  - [pyenv install 3.6.4, Installing Python 3.6]
  - [pyenv global 3.6.4 2.7.14 system, Setting prefered Python version]
